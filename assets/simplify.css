/*
 * X-Simplify: CSS rules to hide distracting UI elements on X.com
 * All rules are gated under html.xs-enabled so toggle is instant.
 */

/* ============================================================
 * LEFT SIDEBAR — collapse navigation items except:
 *   X logo, Bookmarks, Profile, Post button, bottom user card
 * Collapsed by default; expands on hover over the nav area.
 * ============================================================ */

/* Collapsed state (default) */
html.xs-enabled :is(
  [data-testid="AppTabBar_Home_Link"],
  [data-testid="AppTabBar_Explore_Link"],
  [data-testid="AppTabBar_Notifications_Link"],
  [data-testid="AppTabBar_DirectMessage_Link"],
  [data-testid="AppTabBar_More_Menu"],
  nav a[href*="/i/grok"],
  nav a[href*="/i/premium"],
  nav a[href*="/i/verified-choose"],
  nav a[href*="/creators/studio"],
  nav a[href*="/articles"],
  nav a[href*="/i/communities"],
  nav a[href*="/i/lists"]
) {
  max-height: 0 !important;
  overflow: hidden !important;
  opacity: 0 !important;
  visibility: hidden !important;
  transition: max-height 200ms ease-out 150ms,
              opacity 150ms ease-out 150ms,
              visibility 0s ease-out 350ms !important;
}

/* Expanded state (on hover) */
html.xs-enabled nav[aria-label="Primary"]:hover :is(
  [data-testid="AppTabBar_Home_Link"],
  [data-testid="AppTabBar_Explore_Link"],
  [data-testid="AppTabBar_Notifications_Link"],
  [data-testid="AppTabBar_DirectMessage_Link"],
  [data-testid="AppTabBar_More_Menu"],
  a[href*="/i/grok"],
  a[href*="/i/premium"],
  a[href*="/i/verified-choose"],
  a[href*="/creators/studio"],
  a[href*="/articles"],
  a[href*="/i/communities"],
  a[href*="/i/lists"]
) {
  max-height: 60px !important;
  opacity: 1 !important;
  visibility: visible !important;
  transition: max-height 200ms ease-out 0s,
              opacity 150ms ease-out 0s,
              visibility 0s ease-out 0s !important;
}

/* ============================================================
 * RIGHT SIDEBAR — hide everything except the search box
 * All content blocks are direct children of [aria-label="Trending"] > div.
 * One rule hides every block that doesn't contain the search input.
 * ============================================================ */
html.xs-enabled [data-testid="sidebarColumn"] [aria-label="Trending"] > div > div:not(:has([data-testid="SearchBox_Search_Input"])) {
  display: none !important;
}
