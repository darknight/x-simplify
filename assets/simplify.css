/*
 * X-Simplify: CSS rules to hide distracting UI elements on X.com
 * All rules are gated under html.xs-enabled so toggle is instant.
 */

/* ============================================================
 * LEFT SIDEBAR — collapse nav items + Post button.
 *   X logo and user card stay visible. A ··· hint tells users
 *   to hover. The <header> wraps nav + Post, so it serves as
 *   the hover trigger to expand everything at once.
 * ============================================================ */

/* Collapsed state (default) — nav items + Post button */
html.xs-enabled nav[aria-label="Primary"] > *,
html.xs-enabled header[role="banner"] a[href="/compose/post"] {
  max-height: 0 !important;
  overflow: hidden !important;
  opacity: 0 !important;
  visibility: hidden !important;
  transition: max-height 200ms ease-out 150ms,
              opacity 150ms ease-out 150ms,
              visibility 0s ease-out 350ms !important;
}

/* Expanded state — header:hover expands both nav items and Post */
html.xs-enabled header[role="banner"]:hover nav[aria-label="Primary"] > *,
html.xs-enabled header[role="banner"]:hover a[href="/compose/post"] {
  max-height: 60px !important;
  opacity: 1 !important;
  visibility: visible !important;
  transition: max-height 200ms ease-out 0s,
              opacity 150ms ease-out 0s,
              visibility 0s ease-out 0s !important;
}

/* Hover hint — ··· indicator visible when collapsed */
html.xs-enabled nav[aria-label="Primary"]::after {
  content: "···";
  display: block;
  text-align: center;
  color: rgb(113, 118, 123);
  font-size: 20px;
  letter-spacing: 4px;
  padding: 8px 0;
  opacity: 0.6;
  transition: opacity 150ms ease-out !important;
}

html.xs-enabled header[role="banner"]:hover nav[aria-label="Primary"]::after {
  opacity: 0;
}

/* ============================================================
 * RIGHT SIDEBAR — hide everything except the search box
 * All content blocks are direct children of [aria-label="Trending"] > div.
 * One rule hides every block that doesn't contain the search input.
 * ============================================================ */
html.xs-enabled [data-testid="sidebarColumn"] [aria-label="Trending"] > div > div:not(:has([data-testid="SearchBox_Search_Input"])) {
  display: none !important;
}
