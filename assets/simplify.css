/*
 * X-Simplify: CSS rules to hide distracting UI elements on X.com
 * All rules are gated under html.xs-enabled so toggle is instant.
 */

/* ============================================================
 * LEFT SIDEBAR — collapse nav items + Post button.
 *   X logo and user card stay visible. A toggle button lets
 *   users click to expand/collapse the navigation.
 * ============================================================ */

/* Collapsed state (default) — nav items + Post button, excluding toggle */
html.xs-enabled nav[aria-label="Primary"] > *:not(.xs-toggle),
html.xs-enabled header[role="banner"] a[href="/compose/post"] {
  max-height: 0 !important;
  overflow: hidden !important;
  opacity: 0 !important;
  visibility: hidden !important;
  transition: max-height 200ms ease-out,
              opacity 150ms ease-out,
              visibility 0s ease-out 200ms !important;
}

/* Expanded state — triggered by .xs-nav-expanded class */
html.xs-enabled.xs-nav-expanded nav[aria-label="Primary"] > *,
html.xs-enabled.xs-nav-expanded header[role="banner"] a[href="/compose/post"] {
  max-height: 60px !important;
  opacity: 1 !important;
  visibility: visible !important;
  transition: max-height 200ms ease-out,
              opacity 150ms ease-out,
              visibility 0s ease-out 0s !important;
}

/* Toggle button — matches X.com nav item style */
html.xs-enabled .xs-toggle {
  display: flex !important;
  align-items: center;
  justify-content: center;
  width: 50px;
  height: 50px;
  border: none;
  background: none;
  cursor: pointer;
  border-radius: 50%;
  color: rgb(15, 20, 25);
  transition: background-color 200ms;
}
html.xs-enabled .xs-toggle:hover {
  background-color: rgba(15, 20, 25, 0.1);
}
html.xs-enabled .xs-toggle svg {
  transition: transform 200ms ease-out;
}
html.xs-enabled.xs-nav-expanded .xs-toggle svg {
  transform: rotate(180deg);
}

/* ============================================================
 * RIGHT SIDEBAR — hide everything except the search box
 * All content blocks are direct children of [aria-label="Trending"] > div.
 * One rule hides every block that doesn't contain the search input.
 * ============================================================ */
html.xs-enabled [data-testid="sidebarColumn"] [aria-label="Trending"] > div > div:not(:has([data-testid="SearchBox_Search_Input"])) {
  display: none !important;
}
